{"name":"meeo-facebook","strategy":"oauth2","options":{"authorizationURL":"https://www.facebook.com/dialog/oauth","tokenURL":"https://graph.facebook.com/oauth/access_token","scope":"email","scripts":{"fetchUserProfile":"function(accessToken, ctx, cb) {\n\n  var fields = [\n    'name',\n    'first_name',\n    'last_name',\n    'email',\n    'gender',\n    'locale',\n    'picture.type(large)',\n    'timezone',\n    'link',\n    'is_verified',\n    'verified',\n    'name_format',\n    'third_party_id',\n    'installed',\n    'devices',\n    'age_range',\n    'cover'\n  ];\n  request.get('https://graph.facebook.com/me?fields=' + fields.join(','), {\n      headers: {\n        'Authorization': 'Bearer ' + accessToken,\n      },\n      json: true\n    },\n\n    function(e, r, profile) {\n      if (e) return cb(e);\n      if (r.statusCode !== 200) return cb(new Error('StatusCode: ' + r.statusCode));\n\n      profile.picture = profile.picture.data.url;\n      profile.given_name = profile.first_name;\n      profile.family_name = profile.last_name;\n\n      cb(null, profile);\n    });\n}"}}}