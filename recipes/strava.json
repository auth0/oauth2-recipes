{"name":"strava","strategy":"oauth2","options":{"authorizationURL":"https://www.strava.com/oauth/authorize","tokenURL":"https://www.strava.com/oauth/token","scope":"view_private,write","scripts":{"fetchUserProfile":"function(accessToken, ctx, cb) {\n  request.get('https://www.strava.com/api/v3/athlete', {\n    headers: {\n      'Authorization': 'Bearer ' + accessToken\n    }\n  }, function(e, r, b) {\n    if (e) return cb(e);\n    if (r.statusCode !== 200) return cb(new Error('StatusCode: ' + r.statusCode));\n    var profile = JSON.parse(b);\n    console.log(profile);\n    profile.user_id = profile.id;\n    profile.picture = profile.avatar_url;\n    profile.name = profile.firstname + ' ' + profile.lastname\n    cb(null, profile);\n  });\n}"}}}