{"name":"twitch-local","strategy":"oauth2","options":{"authorizationURL":"https://api.twitch.tv/kraken/oauth2/authorize","tokenURL":"https://api.twitch.tv/kraken/oauth2/token","scope":"user_read","scripts":{"fetchUserProfile":"function(accessToken, ctx, cb) {\n  request.get('https://api.twitch.tv/kraken/user', {\n    headers: {\n      'Authorization': 'OAuth ' + accessToken,\n      'Accept': 'application/vnd.twitchtv.v3+json'\n    }\n  }, function(e, r, b) {\n    if (e) return cb(e);\n    if (r.statusCode !== 200) return cb(new Error('StatusCode: ' + r.statusCode));\n    var profile = JSON.parse(b);\n    profile.id = profile._id;\n    delete profile._id;\n    profile.links = profile._links;\n    delete profile._links;\n    return cb(null, profile);\n  });\n}"}}}