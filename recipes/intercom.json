{"name":"intercom","strategy":"oauth2","options":{"authorizationURL":"https://app.intercom.io/oauth","tokenURL":"https://api.intercom.io/auth/eagle/token","scope":"","scripts":{"fetchUserProfile":"function(accessToken, ctx, cb) {\n  request.get({\n    url: 'https://api.intercom.io/me',\n    headers: {\n      Authorization: `Bearer ${accessToken}`,\n      \"Content-Type\": \"application/json\",\n      Accept: \"application/json\"\n    }\n  }, function(err, resp, body) {\n    if (err) return cb(err);\n    if (resp.statusCode !== 200) return cb(new Error(body));\n\n    var responseJSON = JSON.parse(body);\n\n    var profile = {};\n    profile.email = responseJSON.email;\n    profile.email_verified = responseJSON.email_verified;\n    profile.name = responseJSON.name;\n    profile.intercom_app = responseJSON.app;\n    cb(null, profile);\n  });\n\n}"}}}