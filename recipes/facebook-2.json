{"name":"facebook-2","strategy":"oauth2","options":{"authorizationURL":"https://www.facebook.com/dialog/oauth","tokenURL":"https://graph.facebook.com/oauth/access_token","scope":"email","scripts":{"fetchUserProfile":"function(accessToken, ctx, cb) {\n  var options = {\n    url: 'https://graph.facebook.com/v3.1/me?fields=email%2Cfirst_name%2Clast_name%2Cgender&access_token=' + accessToken\n  };\n\n  function callback(error, response, body) {\n    if (!error && response.statusCode == 200) {\n      body = JSON.parse(body);\n      var profile = {}\n      \n      profile.user_id = body.id;\n      profile.email = body.email;\n      profile.given_name = body.first_name;\n      profile.family_name = body.last_name;\n      profile.email_verified = true;\n      \n      cb(null, profile);\n    } else {\n      return cb(new Error('StatusCode: ' + r.statusCode));\n    }\n  }\n  request(options, callback);\n}"}}}