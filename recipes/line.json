{"name":"line","strategy":"oauth2","options":{"authorizationURL":"https://access.line.me/oauth2/v2.1/authorize","tokenURL":"https://api.line.me/oauth2/v2.1/token","scope":"profile","scripts":{"fetchUserProfile":"function(access_token, ctx, callback){\n  console.log(access_token);\n    request.get('https://api.line.me/v2/profile ', {\n      'headers': {\n          'Authorization': 'Bearer ' + access_token,\n        }\n    }, function(e,r,b){\n    if( e ) return callback(e);\n    if( r.statusCode !== 200 ) return callback(new Error('StatusCode:'+r.statusCode));\n      var u = JSON.parse(b);\n\t\t\tvar profile = {\n\t\t\t  user_id: u.userId,\n\t    \tname: u.displayName,\n        picture: u.pictureUrl\n\t\t  };\n      callback(null, profile);\n   });\n}"}}}