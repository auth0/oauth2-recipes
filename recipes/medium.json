{"name":"medium","strategy":"oauth2","options":{"authorizationURL":"https://medium.com/m/oauth/authorize","tokenURL":"https://api.medium.com/v1/tokens","scope":"basicProfile,publishPost","scripts":{"fetchUserProfile":"function(accessToken, ctx, cb) {\n  request.get('https://api.medium.com/v1/me', {\n    'headers': {\n      'Authorization': 'Bearer ' + accessToken\n    }\n  }, function(e, r, b) {\n    if (e) return callback(e);\n    if (r.statusCode !== 200) return cb(new Error('StatusCode:' + r.statusCode));\n\n    var userInfo = JSON.parse(b).data;\n\n    var newProfile = {\n      \"user_id\": userInfo.id,\n      \"name\": userInfo.username,\n      \"nickname\": userInfo.name,\n      \"picture\": userInfo.imageUrl,\n      \"accessToken\": accessToken\n    };\n\n\n    cb(null, newProfile);\n  });\n}"}}}