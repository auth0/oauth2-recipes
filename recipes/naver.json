{"name":"naver","strategy":"oauth2","options":{"authorizationURL":"https://nid.naver.com/oauth2.0/authorize","tokenURL":"https://nid.naver.com/oauth2.0/token","scope":"","scripts":{"fetchUserProfile":"function(accessToken, ctx, cb) {\n  request.get('https://openapi.naver.com/v1/nid/me', {\n      headers: {\n        'Authorization': 'Bearer ' + accessToken,\n      },\n      json: true\n    },\n    function(e, r, body) {\n      if (e) return cb(e);\n      if (r.statusCode !== 200)\n        return cb(new Error('StatusCode: ' + r.statusCode));\n    \n    \tvar profile = {\n        \"gender\": body.response.gender,\n        \"locale\": \"kr\",\n        \"nickname\": body.response.nickname,\n        \"picture\": body.response.profile_image,\n       \t\"user_id\" : body.response.id\n      };\n    \n    \tif (body.response.hasOwnProperty(\"name\"))\n        profile[\"name\"] =  body.response.name;\n    \telse\n        profile[\"name\"] = body.response.nickname;\n    \n      if (body.response.hasOwnProperty(\"email\"))\n      {\n        profile[\"email\"] = body.response.email;\n        profile[\"email_verified\"] = true;\n      }\n    \n      cb(null, profile);\n    });\n}"}}}