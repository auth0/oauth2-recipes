{"name":"intuit-sandbox","strategy":"oauth2","options":{"authorizationURL":"https://appcenter.intuit.com/connect/oauth2","tokenURL":"https://oauth.platform.intuit.com/oauth2/v1/tokens/bearer","scope":"com.intuit.quickbooks.accounting openid profile email phone address","scripts":{"fetchUserProfile":"function(accessToken, ctx, cb) {\n  // var profile = {\n  //   user_id: '123',\n  //   given_name: 'Eugenio',\n  //   family_name: 'Pace',\n  //   email: 'eugenio@mail.com'\n  // };\n  //  cb(null, profile);\n  //   {\n  //     \"sub\": \"1182d6ec-2a1f-4aa3-af3f-bb3b95db45af\",\n  //     \"email\": \"john@doe.com\",\n  //     \"emailVerified\": true,\n  //     \"givenName\": \"John\",\n  //     \"familyName\": \"Doe\",\n  //     \"phoneNumber\": \"+1 6305555555\",\n  //     \"phoneNumberVerified\": false,\n  //     \"address\": {\n  //         \"streetAddress\": \"2007 saint julien ct\",\n  //         \"locality\": \"mountain view\",\n  //         \"region\": \"CA\",\n  //         \"postalCode\": \"94043\",\n  //         \"country\": \"US\"\n  //     }\n  // }\n  request.get('https://sandbox-accounts.platform.intuit.com/v1/openid_connect/userinfo', {\n    headers: {\n      'Authorization': 'Bearer ' + accessToken\n    }\n  }, function(e, r, b) {\n    if (e) return cb(e);\n    if (r.statusCode !== 200) return cb(new Error('StatusCode:' + r.statusCode));\n    var p_data = JSON.parse(b);\n    var profile = {\n      user_id: p_data.sub,\n      given_name: p_data.givenName,\n      family_name: p_data.family_name,\n      email: p_data.email,\n      extra_data: p_data\n    };\n    cb(null, profile);\n  });\n\n}"}}}