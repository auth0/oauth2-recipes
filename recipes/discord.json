{"name":"discord","strategy":"oauth2","options":{"authorizationURL":"https://discordapp.com/api/oauth2/authorize","tokenURL":"https://discordapp.com/api/oauth2/token","scope":"identify","scripts":{"fetchUserProfile":"function(accessToken, ctx, cb) {\n  request.get('https://discordapp.com/api/users/@me', {\n    headers: {\n      'Authorization': 'Bearer ' + accessToken,\n    },\n  }, function(error, response, body) {\n    if (error) return cb(error);\n    if (response.statusCode !== 200) return cb(new Error('StatusCode: ' + response.statusCode));\n    var profile = JSON.parse(body);\n    profile.user_id = profile.id;\n    cb(null, profile)\n  })\n}"}}}