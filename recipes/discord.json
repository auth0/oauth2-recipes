{"name":"discord","strategy":"oauth2","options":{"authorizationURL":"https://discordapp.com/api/oauth2/authorize","tokenURL":"https://discordapp.com/api/oauth2/token","scope":"identify email","scripts":{"fetchUserProfile":"function(accessToken, ctx, cb) {\n  request.get('https://discordapp.com/api/users/@me', {\n    'headers': {\n      'Authorization': 'Bearer ' + accessToken,\n      'User-Agent': 'Auth0'\n    }\n  }, function(err, response, body) {\n    if (err) {\n      return cb(err);\n    }\n    if (response.statusCode !== 200) {\n      return cb(new Error('StatusCode:' + response.statusCode));\n    }\n\n    var user = JSON.parse(body);\n\n    var profile = {\n      id: user.id,\n      email: user.email,\n      nickname: user.username + \\\"#\\\" + user.discriminator,\n    };\n\n    if (user.avatar) {\\\n      tprofile.picture = \\\"https://cdn.discordapp.com/avatars/\\\" + user.id + \\\"/\\\" + user.avatar + \\\".png?size=512\\\";\n    }\n\n    cb(null, user);\n  });\n}"}}}