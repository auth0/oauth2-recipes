{"name":"dingding","strategy":"oauth2","options":{"authorizationURL":"http://okrs.innokit.com/api/dingding/authorize","tokenURL":"http://okrs.innokit.com/api/dingding/token","scope":"","scripts":{"fetchUserProfile":"function(accessToken, ctx, cb) {\n  request.get('https://oapi.dingtalk.com/sns/getuserinfo', {\n    qs: {\n      sns_token: accessToken\n    },\n    json: true\n  }, function(e, r, b) {\n    if (e) return cb(e);\n    if (r.statusCode !== 200 || b.errcode !== 0) return cb(new Error(r.statusCode + ':' + JSON.stringify(b)));\n    userInfo = b.user_info || {};\n    return cb(null, {\n      user_id: userInfo.dingId,\n      name: userInfo.nick,\n      email: '',\n      email_verified: false\n    });\n  });\n}"}}}